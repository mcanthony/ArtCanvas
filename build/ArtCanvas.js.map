{"version":3,"file":"ArtCanvas.min.js","sources":["ArtCanvas.js"],"names":["global","ArtCanvas","container","canvas","width","height","callbacks","this","document","body","HTMLElement","style","position","top","left","zIndex","w","parseInt","h","DEFAULT_SIZES","WIDTH","HEIGHT","mode","Mode","HAND","figure","Figure","RECTANGLE","textStyle","TextStyle","Font","Color","toString","transform","Transform","TRANSLATE","layers","push","Canvas","length","activeLayer","drawstart","drawmove","drawend","setCallbacks","imagedata","isDown","self","_figure","activeCanvas","activeContext","x","y","event","test","canvasElement","getCanvas","getImageData","points","popPath","point","pop","pushPath","putImageData","getX","getY","offset","Point","getOffsetPoint","beginPath","rect","stroke","fill","Rectangle","CIRCLE","centerX","centerY","radius","getDistance","arc","Math","PI","Circle","LINE","moveTo","lineTo","Line","_transform","amounts","SCALE","scaleX","scaleY","offsetX","offsetY","ROTATE","radian","atan2","degree","addEventListener","MouseEvents","START","TOOL","getContext","ERASER","globalCompositeOperation","getOffsetX","getOffsetY","FIGURE","type","TEXT","createTextbox","TRANSFORM","MOVE","preventDefault","Eraser","END","increaseHistoryPointer","prototype","getContainerWidth","getContainerHeight","Object","call","key","getMode","setMode","m","String","toLowerCase","addLayer","drawText","getActiveLayer","validateLayerNumber","layerNumber","n","selectLayer","showLayer","visibility","hideLayer","removeLayer","splice","parentNode","removeChild","undo","redo","clear","getFillStyle","fillStyle","setFillStyle","getStrokeStyle","strokeStyle","setStrokeStyle","getLineWidth","lineWidth","setLineWidth","getLineCap","lineCap","setLineCap","getLineJoin","lineJoin","setLineJoin","getShadowColor","shadowColor","setShadowColor","getShadowBlur","shadowBlur","setShadowBlur","getShadowOffsetX","setShadowOffsetX","getShadowOffsetY","setShadowOffsetY","getGlobalAlpha","alpha","setGlobalAlpha","getTextStyle","setTextStyle","getFigure","setFigure","f","getTransform","setTransform","t","translate","translateX","translateY","scale","rotate","drawImage","src","pickColor","color","filter","format","callback","exportedCanvas","createElement","exportedContext","images","layerPointer","draw","i","len","toDataURL","loadImage","image","Image","onload","$","Drawable","context","getCenterPoint","click","start","move","end","navigator","userAgent","CLICK","Tool","DROPPER","BUCKET","red","green","blue","r","g","b","a","parseFloat","isNaN","getRed","getGreen","getBlue","getAlpha","rgba","toHexString","hex","pointX","pointY","point1","point2","sqrt","pow","l","create","constructor","getLeft","getTop","getRight","getBottom","getLeftTop","getRightBottom","right","bottom","getWidth","getHeight","getSize","cx","cy","getCenterX","getCenterY","getCenter","getRadius","startPoint","endPoint","getStartPoint","getEndPoint","minX","min","minY","maxX","max","maxY","Text","text","font","family","size","weight","getText","getPoint","getFont","getColor","heldColor","getFontString","fillText","fontSize","measureText","getFamily","getStyle","getWeight","DrawableImage","onloadCallback","Filter","NONE","toUpperCase","Array","isArray","REDEMPHASIS","GRAYSCALE","REVERSE","NOISE","BLUR","getType","getAmounts","none","input","redemphasis","output","data","floor","grayscale","mean","reverse","noise","random","p","blur","NUMBER_OF_ELEMENTS","indexs","sum","num","j","c","createImageData","HTMLCanvasElement","appendChild","setAttribute","globalAlpha","paths","historyPointer","transforms","skew","getPaths","path","getHistoryPointer","slice","isTransform","textbox","querySelector","HTMLInputElement","value","centerPoint","translates","scales","dx","dy","sx","sy","rotateMatrix","cos","sin","save","apply","arguments","restore","clearRect","clearPaths","shadowOffsetX","shadowOffsetY","Event","pageX","touches","changedTouches","scrollLeft","offsetLeft","pageY","scrollTop","offsetTop","Number","MAX_VALUE","outline","padding","picks","startX","startY","getPixelPosition","setPixelPosition","isMatchColor","paintHorizon","scanHorizon","buffer","baseColor","startPixelPosition","positions","window"],"mappings":"CAUA,SAAUA,GACN,YAcA,SAASC,GAAUC,EAAWC,EAAQC,EAAOC,EAAQC,GACjDC,KAAKL,UAAYM,SAASC,KAEtBP,YAAqBQ,eACrBH,KAAKL,UAAYA,GAIrBK,KAAKL,UAAUS,MAAMC,SAAW,WAChCL,KAAKL,UAAUS,MAAME,IAAW,MAChCN,KAAKL,UAAUS,MAAMG,KAAW,MAChCP,KAAKL,UAAUS,MAAMI,OAAW,CAEhC,IAAIC,GAAIC,SAASb,GACbc,EAAID,SAASZ,EAEjBE,MAAKL,UAAUS,MAAMP,MAAUY,EAAI,EAAMA,EAAI,KAASf,EAAUkB,cAAcC,MAAS,KACvFb,KAAKL,UAAUS,MAAMN,OAAUa,EAAI,EAAMA,EAAI,KAASjB,EAAUkB,cAAcE,OAAS,KAEvFd,KAAKe,KAAYrB,EAAUsB,KAAKC,KAChCjB,KAAKkB,OAAYxB,EAAUyB,OAAOC,UAClCpB,KAAKqB,UAAY,GAAI3B,GAAU4B,UAAU,GAAI5B,GAAU6B,KAAK,QAAS,OAAQ,SAAU,UAAW,GAAI7B,GAAU8B,MAAM,EAAG,EAAG,EAAG,GAAKC,YACpIzB,KAAK0B,UAAYhC,EAAUiC,UAAUC,UAGrC5B,KAAK6B,UACL7B,KAAK6B,OAAOC,KAAK,GAAIpC,GAAUqC,OAAO/B,KAAKL,UAAWC,EAAQC,EAAOC,EAASE,KAAK6B,OAAOG,OAAS,IAEnGhC,KAAKiC,YAAc,EAGnBjC,KAAKD,WACDmC,UAAY,aACZC,SAAY,aACZC,QAAY,cAGhBpC,KAAKqC,aAAatC,EAElB,IAAIuC,GAAY,KACZC,GAAY,EACZC,EAAYxC,KAUZyC,EAAU,SAASC,EAAcC,EAAeC,EAAGC,EAAGC,GACtD,GAAI,wBAAwBC,KAAKD,GAAQ,CACrC,GAAIE,GAAgBN,EAAaO,YAC7BpD,EAAgBmD,EAAcnD,MAC9BC,EAAgBkD,EAAclD,MAGlC,aAFAwC,EAAoBK,EAAcO,aAAa,EAAG,EAAGrD,EAAOC,IAKhE,GAAIqD,GAAST,EAAaU,UACtBC,EAASF,EAAOG,KAOpB,QALAH,EAAOrB,KAAKuB,GACZX,EAAaa,SAASJ,GAEtBR,EAAca,aAAalB,EAAW,EAAG,GAEjCE,EAAKtB,QACT,IAAKxB,GAAUyB,OAAOC,UAClB,GAAIb,GAAS8C,EAAMI,OACfnD,EAAS+C,EAAMK,OACfC,EAASjE,EAAUkE,MAAMC,eAAeR,EAAO,GAAI3D,GAAUkE,MAAMhB,EAAGC,GAE1EF,GAAcmB,YACdnB,EAAcoB,KAAKxD,EAAMD,EAAKqD,EAAOF,OAAQE,EAAOD,QACpDf,EAAcqB,SACdrB,EAAcsB,OAEV,oBAAoBlB,KAAKD,KACzBJ,EAAaU,UACbV,EAAaa,SAAS,GAAI7D,GAAUwE,UAAU3D,EAAMD,EAAKqD,EAAOF,OAAQE,EAAOD,SAGnF,MACJ,KAAKhE,GAAUyB,OAAOgD,OAClB,GAAIC,GAAUf,EAAMI,OAChBY,EAAUhB,EAAMK,OAChBY,EAAU5E,EAAUkE,MAAMW,YAAYlB,EAAO,GAAI3D,GAAUkE,MAAMhB,EAAGC,GAExEF,GAAcmB,YACdnB,EAAc6B,IAAIJ,EAASC,EAASC,EAAQ,EAAI,EAAIG,KAAKC,IAAK,GAC9D/B,EAAcqB,SACdrB,EAAcsB,OAEV,oBAAoBlB,KAAKD,KACzBJ,EAAaU,UACbV,EAAaa,SAAS,GAAI7D,GAAUiF,OAAOP,EAASC,EAASC,EAAQ,EAAI,EAAIG,KAAKC,IAAK,IAG3F,MACJ,KAAKhF,GAAUyB,OAAOyD,KAClBjC,EAAcmB,YACdnB,EAAckC,OAAOxB,EAAMI,OAAQJ,EAAMK,QACzCf,EAAcmC,OAAOlC,EAAGC,GACxBF,EAAcqB,SAEV,oBAAoBjB,KAAKD,KACzBJ,EAAaU,UACbV,EAAaa,SAAS,GAAI7D,GAAUqF,KAAK1B,EAAO,GAAI3D,GAAUkE,MAAMhB,EAAGC,QAenFmC,EAAa,SAAStC,EAAcE,EAAGC,GACvC,GAAIM,GAAST,EAAaU,UACtBC,EAASF,EAAOG,MAChBK,EAASjE,EAAUkE,MAAMC,eAAeR,EAAO,GAAI3D,GAAUkE,MAAMhB,EAAGC,IAEtEoC,IAEJ,QAAQzC,EAAKd,WACT,IAAKhC,GAAUiC,UAAUC,UACrBqD,EAAQnD,KAAK6B,EAAOF,QACpBwB,EAAQnD,KAAK6B,EAAOD,OACpB,MACJ,KAAKhE,GAAUiC,UAAUuD,MACrB,GAAItF,GAAS8C,EAAaO,YAEtBkC,EAAS,EACTC,EAAS,EAETC,EAAU1B,EAAOF,OACjB6B,EAAU3B,EAAOD,MAEL,KAAZ2B,IAAgBF,GAAWE,EAAUzF,EAAOC,OAChC,IAAZyF,IAAgBF,GAAWE,EAAU1F,EAAOE,QAEhDmF,EAAQnD,KAAKqD,GACbF,EAAQnD,KAAKsD,EACb,MACJ,KAAK1F,GAAUiC,UAAU4D,OACrB,GAAIC,GAASf,KAAKgB,MAAM9B,EAAOD,OAAQC,EAAOF,QAC1CiC,EAAUF,EAASf,KAAKC,GAAM,GAElCO,GAAQnD,KAAK4D,GAMrBhD,EAAahB,UAAUc,EAAKd,UAAWuD,GAEvC9B,EAAOrB,KAAKuB,GACZX,EAAaa,SAASJ,GAG1BnD,MAAKL,UAAUgG,iBAAiBjG,EAAUkG,YAAYC,MAAO,SAAS/C,GAClE,GAAIN,EAAKzB,OAASrB,EAAUsB,KAAK8E,KAAjC,CAIA,GAAIpD,GAAgBF,EAAKX,OAAOW,EAAKP,aACjCU,EAAgBD,EAAaqD,YAE7BvD,GAAKzB,OAASrB,EAAUsB,KAAKgF,OAC7BrD,EAAcsD,yBAA2B,kBAEzCtD,EAAcsD,yBAA2B,aAG7C,IAAIrD,GAAIF,EAAawD,WAAWpD,GAC5BD,EAAIH,EAAayD,WAAWrD,EAEhC,QAAQN,EAAKzB,MACT,IAAKrB,GAAUsB,KAAKC,KACpB,IAAKvB,GAAUsB,KAAKgF,OAChBrD,EAAcmB,YACdnB,EAAckC,OAAOjC,EAAGC,EACxB,MACJ,KAAKnD,GAAUsB,KAAKoF,OAChB3D,EAAQC,EAAcC,EAAeC,EAAGC,EAAGC,EAAMuD,KACjD,MACJ,KAAK3G,GAAUsB,KAAKsF,KAEhB,WADA5D,GAAa6D,cAAc,GAAI7G,GAAUkE,MAAMhB,EAAGC,GAEtD,KAAKnD,GAAUsB,KAAKwF,WAMxB9D,EAAaa,UAAU,GAAI7D,GAAUkE,MAAMhB,EAAGC,KAE9CN,GAAS,EAETC,EAAKzC,UAAUmC,UAAUQ,EAAcC,EAAeC,EAAGC,MAC1D,GAEH7C,KAAKL,UAAUgG,iBAAiBjG,EAAUkG,YAAYa,KAAM,SAAS3D,GACjE,GAAKP,EAAL,CAKAO,EAAM4D,gBAEN,IAAIhE,GAAgBF,EAAKX,OAAOW,EAAKP,aACjCU,EAAgBD,EAAaqD,aAE7BnD,EAAIF,EAAawD,WAAWpD,GAC5BD,EAAIH,EAAayD,WAAWrD,EAEhC,QAAQN,EAAKzB,MACT,IAAKrB,GAAUsB,KAAKC,KACpB,IAAKvB,GAAUsB,KAAKgF,OAChB,GAAI7C,GAAST,EAAaU,UACtBC,EAASF,EAAOG,KASpB,QAPAX,EAAcmB,YACdnB,EAAckC,OAAOxB,EAAMI,OAAQJ,EAAMK,QACzCf,EAAcmC,OAAOlC,EAAGC,GACxBF,EAAcqB,SAEdb,EAAOrB,KAAKuB,GAEJb,EAAKzB,MACT,IAAKrB,GAAUsB,KAAKC,KAChBkC,EAAOrB,KAAK,GAAIpC,GAAUkE,MAAMhB,EAAGC,GACnC,MACJ,KAAKnD,GAAUsB,KAAKgF,OAChB7C,EAAOrB,KAAK,GAAIpC,GAAUiH,OAAO,GAAIjH,GAAUkE,MAAMhB,EAAGC,KAMhEH,EAAaa,SAASJ,EACtB,MACJ,KAAKzD,GAAUsB,KAAKsF,KAChB,KACJ,KAAK5G,GAAUsB,KAAKoF,OAChB3D,EAAQC,EAAcC,EAAeC,EAAGC,EAAGC,EAAMuD,KACjD,MACJ,KAAK3G,GAAUsB,KAAKwF,UAChBxB,EAAWtC,EAAcE,EAAGC,GAMpCL,EAAKzC,UAAUoC,SAASO,EAAcC,EAAeC,EAAGC,MACzD,GAEHpD,EAAOkG,iBAAiBjG,EAAUkG,YAAYgB,IAAK,SAAS9D,GACxD,GAAKP,EAAL,CAIA,GAAIG,GAAgBF,EAAKX,OAAOW,EAAKP,aACjCU,EAAgBD,EAAaqD,aAE7BnD,EAAIF,EAAawD,WAAWpD,GAC5BD,EAAIH,EAAayD,WAAWrD,EAEhC,QAAQN,EAAKzB,MACT,IAAKrB,GAAUsB,KAAKC,KAChB,KACJ,KAAKvB,GAAUsB,KAAKgF,OAChBrD,EAAcsD,yBAA2B,aACzC,MACJ,KAAKvG,GAAUsB,KAAKoF,OAChB3D,EAAQC,EAAcC,EAAeC,EAAGC,EAAGC,EAAMuD,MACjD/D,EAAY,IACZ,MACJ,KAAK5C,GAAUsB,KAAKsF,KAChB,KACJ,KAAK5G,GAAUsB,KAAKwF,UAChB9D,EAAaU,UAMrBb,GAAS,EAETG,EAAamE,yBAEbrE,EAAKzC,UAAUqC,QAAQM,EAAcC,EAAeC,EAAGC,MACxD,GAKPnD,EAAUkB,iBACVlB,EAAUkB,cAAcC,MAAS,IACjCnB,EAAUkB,cAAcE,OAAS,IAMjCpB,EAAUoH,UAAUC,kBAAoB,WACpC,MAAOrG,UAASV,KAAKL,UAAUS,MAAMP,QAOzCH,EAAUoH,UAAUE,mBAAqB,WACrC,MAAOtG,UAASV,KAAKL,UAAUS,MAAMN,SAQzCJ,EAAUoH,UAAUzE,aAAe,SAAStC,GACxC,GAAkD,oBAA9CkH,OAAOH,UAAUrF,SAASyF,KAAKnH,GAC/B,MAAOC,KAGX,KAAK,GAAImH,KAAOpH,GACPoH,IAAOnH,MAAKD,WAAkE,sBAAnDkH,OAAOH,UAAUrF,SAASyF,KAAKnH,EAAUoH,MACrEnH,KAAKD,UAAUoH,GAAOpH,EAAUoH,GAIxC,OAAOnH,OAOXN,EAAUoH,UAAUM,QAAU,WAC1B,MAAOpH,MAAKe,MAQhBrB,EAAUoH,UAAUO,QAAU,SAAStG,GACnC,GAAIuG,GAAIC,OAAOxG,GAAMyG,aAErB,QAAQF,GACJ,IAAK5H,GAAUsB,KAAKC,KACpB,IAAKvB,GAAUsB,KAAKoF,OACpB,IAAK1G,GAAUsB,KAAKgF,OACpB,IAAKtG,GAAUsB,KAAKwF,UACpB,IAAK9G,GAAUsB,KAAK8E,KAChB9F,KAAKe,KAAOuG,CACZ,MACJ,KAAK5H,GAAUsB,KAAKsF,KAChBtG,KAAKe,KAAOuG,EACZtH,KAAKyH,SAASzH,KAAK+G,oBAAqB/G,KAAKgH,sBAMrD,GAAIpH,GAASI,KAAK6B,OAAO7B,KAAKiC,YAG9B,OAFArC,GAAO8H,SAAS1H,KAAKqB,WAEdrB,MAOXN,EAAUoH,UAAUa,eAAiB,WACjC,MAAO3H,MAAKiC,aAQhBvC,EAAUoH,UAAUc,oBAAsB,SAASC,GAC/C,GAAIC,GAAIpH,SAASmH,EAEjB,OAAQC,IAAK,GAAOA,EAAI9H,KAAK6B,OAAOG,QAQxCtC,EAAUoH,UAAUiB,YAAc,SAASF,GACvC,GAAI7H,KAAK4H,oBAAoBC,GAAc,CACvC,GAAIC,GAAIpH,SAASmH,EAEjB7H,MAAKiC,YAAc6F,EAGvB,MAAO9H,OAQXN,EAAUoH,UAAUkB,UAAY,SAASH,GACrC,GAAI7H,KAAK4H,oBAAoBC,GAAc,CACvC,GAAIC,GAAgBpH,SAASmH,GACzBjI,EAAgBI,KAAK6B,OAAOiG,GAC5B9E,EAAgBpD,EAAOqD,WAE3BD,GAAc5C,MAAM6H,WAAa,UAGrC,MAAOjI,OAQXN,EAAUoH,UAAUoB,UAAY,SAASL,GACrC,GAAI7H,KAAK4H,oBAAoBC,GAAc,CACvC,GAAIC,GAAgBpH,SAASmH,GACzBjI,EAAgBI,KAAK6B,OAAOiG,GAC5B9E,EAAgBpD,EAAOqD,WAE3BD,GAAc5C,MAAM6H,WAAa,SAGrC,MAAOjI,OAWXN,EAAUoH,UAAUW,SAAW,SAAS5H,EAAOC,GAI3C,MAHAE,MAAK6B,OAAOC,KAAK,GAAIpC,GAAUqC,OAAO/B,KAAKL,UAAW,KAAME,EAAOC,EAASE,KAAK6B,OAAOG,OAAS,IACjGhC,KAAKiC,YAAcjC,KAAK6B,OAAOG,OAAS,EAEjChC,MAQXN,EAAUoH,UAAUqB,YAAc,SAASN,GACvC,GAAK7H,KAAK6B,OAAOG,OAAS,GAAMhC,KAAK4H,oBAAoBC,GAAc,CACnE,GAAIC,GAAgBpH,SAASmH,GACzBjI,EAAgBI,KAAK6B,OAAOiG,GAC5B9E,EAAgBpD,EAAOqD,WAG3BjD,MAAK6B,OAAOuG,OAAON,EAAG,GACtB9E,EAAcqF,WAAWC,YAAYtF,GAEhChD,KAAKiC,YAAc,GAAO6F,GAAK9H,KAAKiC,aACrCjC,KAAKiC,cAIb,MAAOjC,OAOXN,EAAUoH,UAAUyB,KAAO,WACvB,GAAI3I,GAASI,KAAK6B,OAAO7B,KAAKiC,YAC9B,OAAOrC,GAAO2I,QAOlB7I,EAAUoH,UAAU0B,KAAO,WACvB,GAAI5I,GAASI,KAAK6B,OAAO7B,KAAKiC,YAC9B,OAAOrC,GAAO4I,QAOlB9I,EAAUoH,UAAU2B,MAAQ,WACxB,GAAI7I,GAASI,KAAK6B,OAAO7B,KAAKiC,YAE9B,OADArC,GAAO6I,QACAzI,MAOXN,EAAUoH,UAAU4B,aAAe,WAC/B,GAAI9I,GAAYI,KAAK6B,OAAO7B,KAAKiC,aAC7B0G,EAAY/I,EAAO8I,cAEvB,OAAOC,IAQXjJ,EAAUoH,UAAU8B,aAAe,SAASD,GACxC,GAAI/I,GAASI,KAAK6B,OAAO7B,KAAKiC,YAG9B,OAFArC,GAAOgJ,aAAaD,GAEb3I,MAOXN,EAAUoH,UAAU+B,eAAiB,WACjC,GAAIjJ,GAAcI,KAAK6B,OAAO7B,KAAKiC,aAC/B6G,EAAclJ,EAAOiJ,gBAEzB,OAAOC,IAQXpJ,EAAUoH,UAAUiC,eAAiB,SAASD,GAC1C,GAAIlJ,GAASI,KAAK6B,OAAO7B,KAAKiC,YAG9B,OAFArC,GAAOmJ,eAAeD,GAEf9I,MAOXN,EAAUoH,UAAUkC,aAAe,WAC/B,GAAIpJ,GAAYI,KAAK6B,OAAO7B,KAAKiC,aAC7BgH,EAAYrJ,EAAOoJ,cAEvB,OAAOC,IAQXvJ,EAAUoH,UAAUoC,aAAe,SAASD,GACxC,GAAIrJ,GAASI,KAAK6B,OAAO7B,KAAKiC,YAG9B,OAFArC,GAAOsJ,aAAaD,GAEbjJ,MAOXN,EAAUoH,UAAUqC,WAAa,WAC7B,GAAIvJ,GAAUI,KAAK6B,OAAO7B,KAAKiC,aAC3BmH,EAAUxJ,EAAOuJ,YAErB,OAAOC,IAQX1J,EAAUoH,UAAUuC,WAAa,SAASD,GACtC,GAAIxJ,GAASI,KAAK6B,OAAO7B,KAAKiC,YAG9B,OAFArC,GAAOyJ,WAAWD,GAEXpJ,MAOXN,EAAUoH,UAAUwC,YAAc,WAC9B,GAAI1J,GAAWI,KAAK6B,OAAO7B,KAAKiC,aAC5BsH,EAAW3J,EAAO0J,aAEtB,OAAOC,IAQX7J,EAAUoH,UAAU0C,YAAc,SAASD,GACvC,GAAI3J,GAASI,KAAK6B,OAAO7B,KAAKiC,YAG9B,OAFArC,GAAO4J,YAAYD,GAEZvJ,MAOXN,EAAUoH,UAAU2C,eAAiB,WACjC,GAAI7J,GAAcI,KAAK6B,OAAO7B,KAAKiC,aAC/ByH,EAAc9J,EAAO6J,gBAEzB,OAAOC,IAQXhK,EAAUoH,UAAU6C,eAAiB,SAASD,GAC1C,GAAI9J,GAASI,KAAK6B,OAAO7B,KAAKiC,YAG9B,OAFArC,GAAO+J,eAAeD,GAEf1J,MAOXN,EAAUoH,UAAU8C,cAAgB,WAChC,GAAIhK,GAAaI,KAAK6B,OAAO7B,KAAKiC,aAC9B4H,EAAajK,EAAOgK,eAExB,OAAOC,IAQXnK,EAAUoH,UAAUgD,cAAgB,SAASD,GACzC,GAAIjK,GAASI,KAAK6B,OAAO7B,KAAKiC,YAG9B,OAFArC,GAAOkK,cAAcD,GAEd7J,MAOXN,EAAUoH,UAAUiD,iBAAmB,WACnC,GAAInK,GAAUI,KAAK6B,OAAO7B,KAAKiC,aAC3BoD,EAAUzF,EAAOmK,kBAErB,OAAO1E,IAQX3F,EAAUoH,UAAUkD,iBAAmB,SAAS3E,GAC5C,GAAIzF,GAASI,KAAK6B,OAAO7B,KAAKiC,YAG9B,OAFArC,GAAOoK,iBAAiB3E,GAEjBrF,MAOXN,EAAUoH,UAAUmD,iBAAmB,WACnC,GAAIrK,GAASI,KAAK6B,OAAO7B,KAAKiC,aAC1BqD,EAAU1F,EAAOqK,kBAErB,OAAO3E,IAQX5F,EAAUoH,UAAUoD,iBAAmB,SAAS5E,GAC5C,GAAI1F,GAASI,KAAK6B,OAAO7B,KAAKiC,YAG9B,OAFArC,GAAOsK,iBAAiB5E,GAEjBtF,MAOXN,EAAUoH,UAAUqD,eAAiB,WACjC,GAAIvK,GAASI,KAAK6B,OAAO7B,KAAKiC,aAC1BmI,EAASxK,EAAOuK,gBAEpB,OAAOC,IAQX1K,EAAUoH,UAAUuD,eAAiB,SAASD,GAC1C,GAAIxK,GAASI,KAAK6B,OAAO7B,KAAKiC,YAG9B,OAFArC,GAAOyK,eAAeD,GAEfpK,MAOXN,EAAUoH,UAAUwD,aAAe,WAC/B,MAAOtK,MAAKqB,WAQhB3B,EAAUoH,UAAUyD,aAAe,SAASlJ,GAKxC,MAJIA,aAAqB3B,GAAU4B,YAC/BtB,KAAKqB,UAAYA,GAGdrB,MAOXN,EAAUoH,UAAU0D,UAAY,WAC5B,MAAOxK,MAAKkB,QAQhBxB,EAAUoH,UAAU2D,UAAY,SAASvJ,GACrC,GAAIwJ,GAAInD,OAAOrG,GAAQsG,aAEvB,QAAQkD,GACJ,IAAKhL,GAAUyB,OAAOC,UACtB,IAAK1B,GAAUyB,OAAOgD,OACtB,IAAKzE,GAAUyB,OAAOyD,KAClB5E,KAAKkB,OAASwJ,EAMtB,MAAO1K,OAOXN,EAAUoH,UAAU6D,aAAe,WAC/B,MAAO3K,MAAK0B,WAQhBhC,EAAUoH,UAAU8D,aAAe,SAASlJ,GACxC,GAAImJ,GAAItD,OAAO7F,GAAW8F,aAE1B,QAAQqD,GACJ,IAAKnL,GAAUiC,UAAUC,UACzB,IAAKlC,GAAUiC,UAAUuD,MACzB,IAAKxF,GAAUiC,UAAU4D,OACrBvF,KAAK0B,UAAYmJ,EAMzB,MAAO7K,OASXN,EAAUoH,UAAUgE,UAAY,SAASC,EAAYC,GACjD,GAAIpL,GAASI,KAAK6B,OAAO7B,KAAKiC,YAG9B,OAFArC,GAAO8B,UAAUhC,EAAUiC,UAAUC,WAAYmJ,EAAYC,IAEtDhL,MASXN,EAAUoH,UAAUmE,MAAQ,SAAS9F,EAAQC,GACzC,GAAIxF,GAASI,KAAK6B,OAAO7B,KAAKiC,YAG9B,OAFArC,GAAO8B,UAAUhC,EAAUiC,UAAUuD,OAAQC,EAAQC,IAE9CpF,MAQXN,EAAUoH,UAAUoE,OAAS,SAASxF,GAClC,GAAI9F,GAASI,KAAK6B,OAAO7B,KAAKiC,YAG9B,OAFArC,GAAO8B,UAAUhC,EAAUiC,UAAU4D,QAASG,IAEvC1F,MAQXN,EAAUoH,UAAUqE,UAAY,SAASC,GACrC,GAAIxL,GAASI,KAAK6B,OAAO7B,KAAKiC,YAG9B,OAFArC,GAAOuL,UAAUC,GAEVpL,MAQXN,EAAUoH,UAAUuE,UAAY,SAASvI,GACrC,GAAIlD,GAASI,KAAK6B,OAAO7B,KAAKiC,aAC1BqJ,EAAS1L,EAAOyL,UAAUvI,EAE9B,OAAOwI,IASX5L,EAAUoH,UAAU7C,KAAO,SAASnB,EAAOwI,GACvC,GAAI1L,GAASI,KAAK6B,OAAO7B,KAAKiC,YAG9B,OAFArC,GAAOqE,KAAKnB,EAAOwI,GAEZtL,MASXN,EAAUoH,UAAUyE,OAAS,SAASlF,EAAMpB,GACxC,GAAIrF,GAASI,KAAK6B,OAAO7B,KAAKiC,YAE9B,OADArC,GAAO2L,OAAOlF,EAAMpB,GACbjF,MASXN,EAAUoH,UAAVpH,UAA6B,SAAS8L,EAAQC,GAC1C,IAAK,oBAAoB1I,KAAKwE,OAAOiE,IACjC,MAAOxL,KAGX,IAAI0L,GAAkBzL,SAAS0L,cAAc,UACzCC,EAAkBF,EAAe3F,WAAW,KAEhD2F,GAAe7L,MAASG,KAAK+G,oBAC7B2E,EAAe5L,OAASE,KAAKgH,oBAE7B,IAAI6E,MACAC,EAAe,EACftJ,EAAexC,KAEf+L,EAAO,WACP,IAAK,GAAIC,GAAI,EAAGC,EAAMJ,EAAO7J,OAAYiK,EAAJD,EAASA,IAC1CJ,EAAgBT,UAAUU,EAAOG,GAAI,EAAG,EAGK,uBAA7C/E,OAAOH,UAAUrF,SAASyF,KAAKuE,IAC/BA,EAASC,EAAeQ,UAAU,SAAWV,EAAOhE,iBAIxD2E,EAAY,WACZ,GAAIL,GAAgBtJ,EAAKX,OAAOG,OAE5B,WADA+J,IAIJ,IAAInM,GAAgB4C,EAAKX,OAAOiK,GAC5B9I,EAAgBpD,EAAOqD,WAE3B,IAAuC,WAAnCD,EAAc5C,MAAM6H,WAGpB,MAFA6D,SACAK,IAIJ,IAAIf,GAAQpI,EAAckJ,UAAU,aAChCE,EAAQ,GAAIC,MAEhBD,GAAMhB,IAAMA,EAEZgB,EAAME,OAAS,WACXT,EAAO/J,KAAKsK,GAEZN,IACAK,KAMR,OAFAA,KAEOnM,MAGX,SAAUuM,GAKN,QAASC,MAOTA,EAAS1F,UAAUiF,KAAO,SAASU,KAQnCD,EAAS1F,UAAU4F,eAAiB,SAASD,KAI7CF,EAAEC,SAAWA,GAEd9M,GAEH,SAAU6M,GAKN,QAAS3G,MAGT,GAAI+G,GAAQ,GACRC,EAAQ,GACRC,EAAQ,GACRC,EAAQ,EAGR,4BAA2B/J,KAAKgK,UAAUC,YAC1CL,EAAQ,QACRC,EAAQ,aACRC,EAAQ,YACRC,EAAQ,aAERH,EAAQ,QACRC,EAAQ,YACRC,EAAQ,YACRC,EAAQ,WAGZlH,EAAYqH,MAAQN,EACpB/G,EAAYC,MAAQ+G,EACpBhH,EAAYa,KAAQoG,EACpBjH,EAAYgB,IAAQkG,EAGpBP,EAAE3G,YAAcA,GAEjBlG,GAEH,SAAU6M,GAKN,QAASvL,MAGTA,EAAKC,KAAY,OACjBD,EAAKoF,OAAY,SACjBpF,EAAKsF,KAAY,OACjBtF,EAAKgF,OAAY,SACjBhF,EAAK8E,KAAY,OACjB9E,EAAKwF,UAAY,YAGjB+F,EAAEvL,KAAOA,GAEVtB,GAEH,SAAU6M,GAKN,QAASpL,MAGTA,EAAOC,UAAY,YACnBD,EAAOgD,OAAY,SACnBhD,EAAOyD,KAAY,OAGnB2H,EAAEpL,OAASA,GAEZzB,GAEH,SAAU6M,GAKN,QAAS5K,MAGTA,EAAUC,UAAY,YACtBD,EAAUuD,MAAY,QACtBvD,EAAU4D,OAAY,SAGtBgH,EAAE5K,UAAYA,GAEfjC,GAEH,SAAU6M,GAKN,QAASW,MAGTA,EAAKC,QAAU,UACfD,EAAKE,OAAU,SAGfb,EAAEW,KAAOA,GAEVxN,GAEH,SAAU6M,GAUN,QAAS/K,GAAM6L,EAAKC,EAAOC,EAAMnD,GAC7BpK,KAAKqN,IAAQ,EACbrN,KAAKsN,MAAQ,EACbtN,KAAKuN,KAAQ,EACbvN,KAAKoK,MAAQ,CAEb,IAAIoD,GAAI9M,SAAS2M,GACbI,EAAI/M,SAAS4M,GACbI,EAAIhN,SAAS6M,GACbI,EAAIC,WAAWxD,IAEdyD,MAAML,IAAOA,GAAK,GAAY,KAALA,IAC1BxN,KAAKqN,IAAMG,IAGVK,MAAMJ,IAAOA,GAAK,GAAY,KAALA,IAC1BzN,KAAKsN,MAAQG,IAGZI,MAAMH,IAAOA,GAAK,GAAY,KAALA,IAC1B1N,KAAKuN,KAAOG,IAGXG,MAAMF,IAAOA,GAAK,GAAY,GAALA,IAC1B3N,KAAKoK,MAAQuD,GAQrBnM,EAAMsF,UAAUgH,OAAS,WACrB,MAAO9N,MAAKqN,KAOhB7L,EAAMsF,UAAUiH,SAAW,WACvB,MAAO/N,MAAKsN,OAOhB9L,EAAMsF,UAAUkH,QAAU,WACtB,MAAOhO,MAAKuN,MAOhB/L,EAAMsF,UAAUmH,SAAW,WACvB,MAAOjO,MAAKoK,OAQhB5I,EAAMsF,UAAUrF,SAAW,WACvB,GAAIyM,GAAO,QAAUlO,KAAKqN,IAAM,KAAOrN,KAAKsN,MAAQ,KAAOtN,KAAKuN,KAAO,KAAOvN,KAAKoK,MAAQ,GAE1F,OAAO8D,IAOZ1M,EAAMsF,UAAUqH,YAAc,WAC1B,GAAIC,GAAM,GAIV,OAFAA,IAAOpO,KAAKqN,IAAI5L,SAAS,IAAMzB,KAAKsN,MAAM7L,SAAS,IAAMzB,KAAKuN,KAAK9L,SAAS,KAMhF8K,EAAE/K,MAAQA,GAEX9B,GAEH,SAAU6M,GASN,QAAS3I,GAAMyK,EAAQC,GACnBtO,KAAK4C,EAAI,EACT5C,KAAK6C,EAAI,CAET,IAAID,GAAIgL,WAAWS,GACfxL,EAAI+K,WAAWU,EAEdT,OAAMjL,KAAK5C,KAAK4C,EAAIA,GACpBiL,MAAMhL,KAAK7C,KAAK6C,EAAIA,GAO7Be,EAAMkD,UAAUrD,KAAO,WACnB,MAAOzD,MAAK4C,GAOhBgB,EAAMkD,UAAUpD,KAAO,WACnB,MAAO1D,MAAK6C,GAShBe,EAAMC,eAAiB,SAAS0K,EAAQC,GACpC,GAAI5L,GAAI,EACJC,EAAI,CAOR,OALK0L,aAAkB3K,IAAW4K,YAAkB5K,KAChDhB,EAAI4L,EAAO/K,OAAS8K,EAAO9K,OAC3BZ,EAAI2L,EAAO9K,OAAS6K,EAAO7K,QAGxB,GAAIE,GAAMhB,EAAGC,IASxBe,EAAMW,YAAc,SAASgK,EAAQC,GACjC,GAAInL,GAAQO,EAAMC,eAAe0K,EAAQC,EAEzC,OAAO/J,MAAKgK,KAAKhK,KAAKiK,IAAIrL,EAAMI,OAAQ,GAAKgB,KAAKiK,IAAIrL,EAAMK,OAAQ,KAIxE6I,EAAE3I,MAAQA,GAEXlE,GAEH,SAAU6M,GAWN,QAASrI,GAAU3D,EAAMD,EAAKT,EAAOC,GAEjCyM,EAAEC,SAAStF,KAAKlH,MAEhBA,KAAKO,KAAS,EACdP,KAAKM,IAAS,EACdN,KAAKH,MAAS,EACdG,KAAKF,OAAS,CAEd,IAAI6O,GAAIf,WAAWrN,GACfsK,EAAI+C,WAAWtN,GACfG,EAAImN,WAAW/N,GACfc,EAAIiN,WAAW9N,EAEd+N,OAAMc,KAAK3O,KAAKO,KAASoO,GACzBd,MAAMhD,KAAK7K,KAAKM,IAASuK,GAC1BpK,EAAI,IAAQT,KAAKH,MAASY,GAC1BE,EAAI,IAAQX,KAAKF,OAASa,GAIlCuD,EAAU4C,UAAYG,OAAO2H,OAAOrC,EAAEC,SAAS1F,WAC/C5C,EAAU4C,UAAU+H,YAAc3K,EAMlCA,EAAU4C,UAAUgI,QAAU,WAC1B,MAAO9O,MAAKO,MAOhB2D,EAAU4C,UAAUiI,OAAS,WACzB,MAAO/O,MAAKM,KAOhB4D,EAAU4C,UAAUkI,SAAW,WAC3B,MAAOhP,MAAKO,KAAOP,KAAKH,OAO5BqE,EAAU4C,UAAUmI,UAAY,WAC5B,MAAOjP,MAAKM,IAAMN,KAAKF,QAO3BoE,EAAU4C,UAAUoI,WAAa,WAC7B,OAAQ3O,KAAOP,KAAKO,KAAMD,IAAMN,KAAKM,MAOzC4D,EAAU4C,UAAUqI,eAAiB,WACjC,OAAQC,MAASpP,KAAKO,KAAOP,KAAKH,MAAQwP,OAAUrP,KAAKM,IAAMN,KAAKF,SAOxEoE,EAAU4C,UAAUwI,SAAW,WAC3B,MAAOtP,MAAKH,OAOhBqE,EAAU4C,UAAUyI,UAAY,WAC5B,MAAOvP,MAAKF,QAOhBoE,EAAU4C,UAAU0I,QAAU,WAC1B,OAAQ3P,MAAQG,KAAKH,MAAOC,OAASE,KAAKF,SAI9CoE,EAAU4C,UAAUiF,KAAO,SAASU,GAChCA,EAAQ3I,YACR2I,EAAQ1I,KAAK/D,KAAKO,KAAMP,KAAKM,IAAKN,KAAKH,MAAOG,KAAKF,QACnD2M,EAAQzI,SACRyI,EAAQxI,QAIZC,EAAU4C,UAAU4F,eAAiB,SAASD,GAC1C,GAAIrI,GAAWpE,KAAKH,MAAS,EAAKG,KAAKO,KACnC8D,EAAWrE,KAAKF,OAAS,EAAKE,KAAKM,GAEvC,OAAO,IAAIiM,GAAE3I,MAAMQ,EAASC,IAIhCkI,EAAErI,UAAYA,GAEfxE,GAEH,SAAU6M,GAUN,QAAS5H,GAAOP,EAASC,EAASC,GAE9BiI,EAAEC,SAAStF,KAAKlH,MAEhBA,KAAKoE,QAAU,EACfpE,KAAKqE,QAAU,EACfrE,KAAKsE,OAAU,CAEf,IAAImL,GAAK7B,WAAWxJ,GAChBsL,EAAK9B,WAAWvJ,GAChBmJ,EAAKI,WAAWtJ,EAEfuJ,OAAM4B,KAAMzP,KAAKoE,QAAUqL,GAC3B5B,MAAM6B,KAAM1P,KAAKqE,QAAUqL,GAC5BlC,EAAI,IAASxN,KAAKsE,OAAUkJ,GAIpC7I,EAAOmC,UAAYG,OAAO2H,OAAOrC,EAAEC,SAAS1F,WAC5CnC,EAAOmC,UAAU+H,YAAclK,EAM/BA,EAAOmC,UAAU6I,WAAa,WAC1B,MAAO3P,MAAKoE,SAOhBO,EAAOmC,UAAU8I,WAAa,WAC1B,MAAO5P,MAAKqE,SAOhBM,EAAOmC,UAAU+I,UAAY,WACzB,OAAQjN,EAAI5C,KAAKoE,QAASvB,EAAI7C,KAAKqE,UAOvCM,EAAOmC,UAAUgJ,UAAY,WACzB,MAAO9P,MAAKsE,QAIhBK,EAAOmC,UAAUiF,KAAO,SAASU,GAC7BA,EAAQ3I,YACR2I,EAAQjI,IAAIxE,KAAKoE,QAASpE,KAAKqE,QAASrE,KAAKsE,OAAQ,EAAI,EAAIG,KAAKC,IAAK,GACvE+H,EAAQzI,SACRyI,EAAQxI,QAIZU,EAAOmC,UAAU4F,eAAiB,SAASD,GACvC,MAAO,IAAIF,GAAE3I,MAAM5D,KAAKoE,QAASpE,KAAKqE,UAI1CkI,EAAE5H,OAASA,GAEZjF,GAEH,SAAU6M,GASN,QAASxH,GAAKgL,EAAYC,GAEtBzD,EAAEC,SAAStF,KAAKlH,MAEhBA,KAAK+P,WAAa,GAAIxD,GAAE3I,MAAM,EAAG,GACjC5D,KAAKgQ,SAAa,GAAIzD,GAAE3I,MAAM,EAAG,GAE7BmM,YAAsBxD,GAAE3I,QACxB5D,KAAK+P,WAAaA,GAGlBC,YAAoBzD,GAAE3I,QACtB5D,KAAKgQ,SAAWA,GAKxBjL,EAAK+B,UAAYG,OAAO2H,OAAOrC,EAAEC,SAAS1F,WAC1C/B,EAAK+B,UAAU+H,YAAc9J,EAM7BA,EAAK+B,UAAUmJ,cAAgB,WAC3B,MAAOjQ,MAAK+P,YAOhBhL,EAAK+B,UAAUoJ,YAAc,WACzB,MAAOlQ,MAAKgQ,UAIhBjL,EAAK+B,UAAUiF,KAAO,SAASU,GAC3BA,EAAQ3I,YACR2I,EAAQ5H,OAAO7E,KAAK+P,WAAWtM,OAAQzD,KAAK+P,WAAWrM,QACvD+I,EAAQ3H,OAAO9E,KAAKgQ,SAASvM,OAAQzD,KAAKgQ,SAAStM,QACnD+I,EAAQzI,UAIZe,EAAK+B,UAAU4F,eAAiB,SAASD,GACrC,GAAI0D,GAAO1L,KAAK2L,IAAIpQ,KAAK+P,WAAWtM,OAAQzD,KAAKgQ,SAASvM,QACtD4M,EAAO5L,KAAK2L,IAAIpQ,KAAK+P,WAAWrM,OAAQ1D,KAAKgQ,SAAStM,QACtD4M,EAAO7L,KAAK8L,IAAIvQ,KAAK+P,WAAWtM,OAAQzD,KAAKgQ,SAASvM,QACtD+M,EAAO/L,KAAK8L,IAAIvQ,KAAK+P,WAAWrM,OAAQ1D,KAAKgQ,SAAStM,QAEtDU,GAAYkM,EAAOH,GAAQ,EAAKA,EAChC9L,GAAYmM,EAAOH,GAAQ,EAAKA,CAEpC,OAAO,IAAI9D,GAAE3I,MAAMQ,EAASC,IAIhCkI,EAAExH,KAAOA,GAEVrF,GAEH,SAAU6M,GAUN,QAASkE,GAAKC,EAAMrN,EAAOhC,GAEvBkL,EAAEC,SAAStF,KAAKlH,MAEhBA,KAAK0Q,KAAYnJ,OAAOmJ,GACxB1Q,KAAKqD,MAAY,GAAIkJ,GAAE3I,MAAM,EAAG,GAChC5D,KAAKqB,UAAY,KAEbgC,YAAiBkJ,GAAE3I,QACnB5D,KAAKqD,MAAQA,GAGbhC,YAAqBkL,GAAEjL,YACvBtB,KAAKqB,UAAYA,GAgEzB,QAASC,GAAUqP,EAAMrF,GACrBtL,KAAK2Q,KAAQ,KACb3Q,KAAKsL,MAAQ/D,OAAO+D,GAEhBqF,YAAgBpE,GAAEhL,OAClBvB,KAAK2Q,KAAOA,GA4BpB,QAASpP,GAAKqP,EAAQC,EAAMzQ,EAAO0Q,GAC/B9Q,KAAK4Q,OAASrJ,OAAOqJ,GACrB5Q,KAAK6Q,KAAStJ,OAAOsJ,GACrB7Q,KAAKI,MAASmH,OAAOnH,GACrBJ,KAAK8Q,OAASvJ,OAAOuJ,GAhGzBL,EAAK3J,UAAYG,OAAO2H,OAAOrC,EAAEC,SAAS1F,WAC1C2J,EAAK3J,UAAU+H,YAAc4B,EAM7BA,EAAK3J,UAAUiK,QAAU,WACrB,MAAO/Q,MAAK0Q,MAOhBD,EAAK3J,UAAUkK,SAAW,WACtB,MAAOhR,MAAKqD,OAOhBoN,EAAK3J,UAAUwD,aAAe,WAC1B,MAAOtK,MAAKqB,WAIhBoP,EAAK3J,UAAUiF,KAAO,SAASU,GAC3B,GAAIkE,GAAQ3Q,KAAKqB,UAAU4P,UACvB3F,EAAQtL,KAAKqB,UAAU6P,WAEvBC,EAAY1E,EAAQ9D,SAExB8D,GAAQkE,KAAYA,EAAKS,gBACzB3E,EAAQ9D,UAAY2C,EAEpBmB,EAAQ4E,SAASrR,KAAK0Q,KAAM1Q,KAAKqD,MAAMI,OAAQzD,KAAKqD,MAAMK,QAE1D+I,EAAQ9D,UAAYwI,GAIxBV,EAAK3J,UAAU4F,eAAiB,SAASD,GACrC,GAAIkE,GAAY3Q,KAAKqB,UAAU4P,UAC3BK,EAAY5Q,SAASiQ,EAAKnB,WAE1BpL,EAAUpE,KAAKqD,MAAMI,OAAUgJ,EAAQ8E,YAAYvR,KAAK0Q,MAAM7Q,MAAQ,EACtEwE,EAAUrE,KAAKqD,MAAMK,OAAU4N,EAAW,CAE9C,OAAO,IAAI/E,GAAE3I,MAAMQ,EAASC,IAsBhC/C,EAAUwF,UAAUmK,QAAU,WAC1B,MAAOjR,MAAK2Q,MAOhBrP,EAAUwF,UAAUoK,SAAW,WAC3B,MAAOlR,MAAKsL,OAsBhB/J,EAAKuF,UAAU0K,UAAY,WACvB,MAAOxR,MAAK4Q,QAOhBrP,EAAKuF,UAAU0I,QAAU,WACrB,MAAOxP,MAAK6Q,MAOhBtP,EAAKuF,UAAU2K,SAAW,WACtB,MAAOzR,MAAKI,OAOhBmB,EAAKuF,UAAU4K,UAAY,WACvB,MAAO1R,MAAK8Q,QAOhBvP,EAAKuF,UAAUsK,cAAgB,WAC3B,MAAOpR,MAAKI,MAAQ,IAAMJ,KAAK8Q,OAAS,IAAM9Q,KAAK6Q,KAAO,KAAY7Q,KAAK4Q,OAAS,KAIxFrP,EAAKuF,UAAUrF,SAAW,WACtB,MAAOzB,MAAKoR,iBAIhB7E,EAAEkE,KAAYA,EACdlE,EAAEjL,UAAYA,EACdiL,EAAEhL,KAAYA,GAEf7B,GAEH,SAAU6M,GAUN,QAASoF,GAAcvG,EAAKwG,GAExBrF,EAAEC,SAAStF,KAAKlH,MAEhBA,KAAKoM,MAAY,GAAIC,OACrBrM,KAAKoM,MAAMhB,IAAMA,EAEjBpL,KAAKoM,MAAME,OAASsF,EAIxBD,EAAc7K,UAAYG,OAAO2H,OAAOvC,MAAMvF,WAG9C6K,EAAc7K,UAAYG,OAAO2H,OAAOrC,EAAEC,SAAS1F,WAEnD6K,EAAc7K,UAAU+H,YAAc8C,EAGtCA,EAAc7K,UAAUiF,KAAO,SAASU,GACpCA,EAAQtB,UAAUnL,KAAKoM,MAAO,EAAG,IAIrCuF,EAAc7K,UAAU4F,eAAiB,SAASD,GAC9C,GAAIrI,GAAUpE,KAAKoM,MAAMvM,MAAS,EAC9BwE,EAAUrE,KAAKoM,MAAMtM,OAAS,CAElC,OAAO,IAAIyM,GAAE3I,MAAMQ,EAASC,IAIhCkI,EAAEoF,cAAgBA,GAEnBjS,GAEH,SAAU6M,GAMN,QAAS5F,GAAOtD,GACZrD,KAAKqD,MAAQ,GAAIkJ,GAAE3I,MAAM,EAAG,GAExBP,YAAiBkJ,GAAE3I,QACnB5D,KAAKqD,MAAQA,GAQrBsD,EAAOG,UAAUkK,SAAW,WACxB,MAAOhR,MAAKqD,OAOhBsD,EAAOG,UAAUrD,KAAO,WACpB,MAAOzD,MAAKqD,MAAMI,QAOtBkD,EAAOG,UAAUpD,KAAO,WACpB,MAAO1D,MAAKqD,MAAMK,QAItB6I,EAAE5F,OAASA,GAEZjH,GAEH,SAAU6M,GAQN,QAASsF,GAAOxL,EAAMpB,GAClBjF,KAAKqG,KAAOwL,EAAOC,KAEfvK,OAAOlB,GAAM0L,eAAiBF,KAC9B7R,KAAKqG,KAAOkB,OAAOlB,GAAMmB,eAG7BxH,KAAKiF,WAED+M,MAAMC,QAAQhN,KACdjF,KAAKiF,QAAUA,GAIvB4M,EAAOC,KAAc,OACrBD,EAAOK,YAAc,cACrBL,EAAOM,UAAc,YACrBN,EAAOO,QAAc,UACrBP,EAAOQ,MAAc,QACrBR,EAAOS,KAAc,OAMrBT,EAAO/K,UAAUyL,QAAU,WACvB,MAAOvS,MAAKqG,MAOhBwL,EAAO/K,UAAU0L,WAAa,WAC1B,MAAOxS,MAAKiF,SAQhB4M,EAAO/K,UAAU2L,KAAO,SAASC,GAC7B,MAAOA,IASXb,EAAO/K,UAAU6L,YAAc,SAASD,EAAOE,GAC1C,IAAK,GAAI5G,GAAI,EAAGC,EAAMyG,EAAMG,KAAK7Q,OAAYiK,EAAJD,EAASA,IAC/C,OAAQA,EAAI,GACR,IAAK,GAED4G,EAAOC,KAAK7G,GAAKvH,KAAKqO,MAAM,IAAMJ,EAAMG,KAAK7G,GAC7C,MACJ,KAAK,GAED4G,EAAOC,KAAK7G,GAAKvH,KAAKqO,MAAM,EAAIJ,EAAMG,KAAK7G,GAC3C,MACJ,KAAK,GAED4G,EAAOC,KAAK7G,GAAKvH,KAAKqO,MAAM,EAAIJ,EAAMG,KAAK7G,GAC3C,MACJ,KAAK,GAED4G,EAAOC,KAAK7G,GAAKvH,KAAKqO,MAAM,EAAIJ,EAAMG,KAAK7G,IAOvD,MAAO4G,IASXf,EAAO/K,UAAUiM,UAAY,SAASL,EAAOE,GACzC,IAAK,GAAI5G,GAAI,EAAGC,EAAMyG,EAAMG,KAAK7Q,OAAYiK,EAAJD,EAASA,GAAK,EAAG,CACtD,GAAIgH,GAAOvO,KAAKqO,OAAOJ,EAAMG,KAAK7G,GAAK0G,EAAMG,KAAK7G,EAAI,GAAK0G,EAAMG,KAAK7G,EAAI,IAAM,EAChF4G,GAAOC,KAAK7G,GAAK4G,EAAOC,KAAK7G,EAAI,GAAK4G,EAAOC,KAAK7G,EAAI,GAAKgH,EAC3DJ,EAAOC,KAAK7G,EAAI,GAAK0G,EAAMG,KAAK7G,EAAI,GAGxC,MAAO4G,IASXf,EAAO/K,UAAUmM,QAAU,SAASP,EAAOE,GACvC,IAAK,GAAI5G,GAAI,EAAGC,EAAMyG,EAAMG,KAAK7Q,OAAYiK,EAAJD,EAASA,GAAK,EACnD4G,EAAOC,KAAK7G,EAAI,GAAK,IAAM0G,EAAMG,KAAK7G,EAAI,GAC1C4G,EAAOC,KAAK7G,EAAI,GAAK,IAAM0G,EAAMG,KAAK7G,EAAI,GAC1C4G,EAAOC,KAAK7G,EAAI,GAAK,IAAM0G,EAAMG,KAAK7G,EAAI,GAC1C4G,EAAOC,KAAK7G,EAAI,GAAW0G,EAAMG,KAAK7G,EAAI,EAG9C,OAAO4G,IASXf,EAAO/K,UAAUoM,MAAQ,SAASR,EAAOE,GACrC,IAAKZ,MAAMC,QAAQjS,KAAKiF,UAAajF,KAAKiF,QAAQjD,OAAS,EACvD,MAAO0Q,EAGX,IAAI7S,GAAQa,SAASV,KAAKiF,QAAQ,GAElC,IAAI4I,MAAMhO,IAAmB,EAARA,EACjB,MAAO6S,EAGX,IAAI5S,GAASY,SAASV,KAAKiF,QAAQ,GAEnC,IAAI4I,MAAM/N,IAAqB,EAATA,EAClB,MAAO4S,EAGX,IAAI5K,GAAIpH,SAASV,KAAKiF,QAAQ,GAE9B,IAAI4I,MAAM/F,IAAW,EAAJA,EACb,MAAO4K,EAGX,KAAK,GAAI1G,GAAI,EAAOlE,EAAJkE,EAAOA,IAAK,CACxB,GAAIpJ,GAAI6B,KAAK0O,SAAWtT,EACpBgD,EAAI4B,KAAK0O,SAAWrT,EAEpBsT,EAAI3O,KAAKqO,MAA0B,GAAlBjQ,EAAIhD,EAAS+C,IAE9B4K,EAAIkF,EAAMG,KAAKO,EAAI,IAAM,EACzB3F,EAAIiF,EAAMG,KAAKO,EAAI,IAAM,EACzB1F,EAAIgF,EAAMG,KAAKO,EAAI,IAAM,CAE7BR,GAAOC,KAAKO,EAAI,GAAK5F,EACrBoF,EAAOC,KAAKO,EAAI,GAAK3F,EACrBmF,EAAOC,KAAKO,EAAI,GAAK1F,EACrBkF,EAAOC,KAAKO,EAAI,GAAKV,EAAMG,KAAKO,EAAI,GAGxC,MAAOR,IASXf,EAAO/K,UAAUuM,KAAO,SAASX,EAAOE,GACpC,IAAKZ,MAAMC,QAAQjS,KAAKiF,UAAajF,KAAKiF,QAAQjD,OAAS,EACvD,MAAO0Q,EAGX,IAAIY,GAAqB,EAErBC,EAAS,GAAIvB,OAAMsB,GACnBE,EAAS,EACTC,EAAS,EACT5T,EAASa,SAASV,KAAKiF,QAAQ,GAEnC,IAAI4I,MAAMhO,IAAmB,EAARA,EACjB,MAAO6S,EAGX,KAAK,GAAI1G,GAAI,EAAGC,EAAMyG,EAAMG,KAAK7Q,OAAYiK,EAAJD,EAASA,IAAK,CACnDuH,GAAWvH,EAAI,EAAI,EAAInM,EAASmM,EAAI,EAAInM,EAASmM,EAAI,EAAI,EAAInM,EAClDmM,EAAI,EAAgB,EAAkBA,EAAI,EAC1CA,EAAI,EAAI,EAAInM,EAASmM,EAAI,EAAInM,EAASmM,EAAI,EAAI,EAAInM,GAG7D2T,EAAM,EACNC,EAAM,CAEN,KAAK,GAAIC,GAAI,EAAOJ,EAAJI,EAAwBA,IAC/BH,EAAOG,IAAM,GAAOH,EAAOG,GAAKhB,EAAMG,KAAK7Q,SAC5CwR,GAAOd,EAAMG,KAAKU,EAAOG,IACzBD,IAIRb,GAAOC,KAAK7G,GAAKvH,KAAKqO,MAAMU,EAAMC,GAGtC,MAAOb,IAQXf,EAAO/K,UAAUyE,OAAS,SAAS3L,GAC/B,KAAMA,YAAkB2M,GAAExK,QACtB,MAAO/B,KAGX,IAAIyM,GAAU7M,EAAOmG,aACjB4N,EAAU/T,EAAOqD,YACjByP,EAAUjG,EAAQvJ,aAAa,EAAG,EAAGyQ,EAAE9T,MAAO8T,EAAE7T,QAChD8S,EAAUnG,EAAQmH,gBAAgBD,EAAE9T,MAAO8T,EAAE7T,OAIjD,OAFA2M,GAAQjJ,aAAaxD,KAAKA,KAAKqG,MAAMqM,EAAOE,GAAS,EAAG,GAEjD5S,MAIXuM,EAAEsF,OAASA,GAEZnS,GAEH,SAAU6M,GAaN,QAASxK,GAAOpC,EAAWC,EAAQC,EAAOC,EAAQU,GAC9CR,KAAKL,UAAYM,SAASC,KAC1BF,KAAKJ,OAAY,KACjBI,KAAKyM,QAAY,KAEb9M,YAAqBQ,eACrBH,KAAKL,UAAYA,GAGjBC,YAAkBiU,mBAClB7T,KAAKJ,OAASA,GAEdI,KAAKJ,OAASK,SAAS0L,cAAc,UACrC3L,KAAKL,UAAUmU,YAAY9T,KAAKJ,SAGpCI,KAAKyM,QAAUzM,KAAKJ,OAAOmG,WAAW,KAEtC,IAAItF,GAAIC,SAASb,GACbc,EAAID,SAASZ,EAEjBE,MAAKJ,OAAOmU,aAAa,QAAWtT,EAAI,EAAKA,EAAI8L,EAAE3L,cAAcC,OACjEb,KAAKJ,OAAOmU,aAAa,SAAWpT,EAAI,EAAKA,EAAI4L,EAAE3L,cAAcE,QAEjEd,KAAKyI,QAELzI,KAAKJ,OAAOQ,MAAMC,SAAW,WAC7BL,KAAKJ,OAAOQ,MAAME,IAAW,MAC7BN,KAAKJ,OAAOQ,MAAMG,KAAW,MAC7BP,KAAKJ,OAAOQ,MAAMI,OAAWA,EAE7BR,KAAKyM,QAAQ3D,YAAc,GAAIyD,GAAE/K,MAAM,EAAG,EAAG,EAAG,GAAKC,WACrDzB,KAAKyM,QAAQ9D,UAAc,GAAI4D,GAAE/K,MAAM,EAAG,EAAG,EAAG,GAAKC,WACrDzB,KAAKyM,QAAQuH,YAAc,EAC3BhU,KAAKyM,QAAQxD,UAAc,EAC3BjJ,KAAKyM,QAAQrD,QAAc,OAC3BpJ,KAAKyM,QAAQlD,SAAc,QAG3BvJ,KAAKiU,SAELjU,KAAKkU,eAAiB,EAGtBlU,KAAKmU,YACDrJ,WAAalI,EAAI,EAAGC,EAAI,GACxBoI,OAAarI,EAAI,EAAGC,EAAI,GACxBuR,MAAaxR,EAAI,EAAGC,EAAI,GACxBqI,OAAY,GAQpBnJ,EAAO+E,UAAU7D,UAAY,WACzB,MAAOjD,MAAKJ,QAOhBmC,EAAO+E,UAAUf,WAAa,WAC1B,MAAO/F,MAAKyM,SAOhB1K,EAAO+E,UAAUuN,SAAW,WACxB,MAAOrU,MAAKiU,OAQhBlS,EAAO+E,UAAUvD,SAAW,SAAS+Q,GAEjC,MADAtU,MAAKiU,MAAMjU,KAAKkU,gBAAkBI,EAC3BtU,MAOX+B,EAAO+E,UAAU1D,QAAU,WACvB,MAAOpD,MAAKiU,MAAMjU,KAAKkU,iBAO3BnS,EAAO+E,UAAUyN,kBAAoB,WACjC,MAAOvU,MAAKkU,gBAOhBnS,EAAO+E,UAAUD,uBAAyB,WAQtC,MAPA7G,MAAKkU,iBAGDlU,KAAKkU,eAAiBlU,KAAKiU,MAAMjS,SACjChC,KAAKiU,MAAQjU,KAAKiU,MAAMO,MAAM,EAAGxU,KAAKkU,iBAGnClU,MAQX+B,EAAO+E,UAAUiF,KAAO,SAAS0I,GACzBA,GACAzU,KAAK0B,WAGT,KAAK,GAAIsK,GAAI,EAAGA,EAAIhM,KAAKkU,eAAgBlI,IAAK,CAC1C,GAAIiI,GAAQjU,KAAKiU,MAAMjI,EAEvB,IAAIgG,MAAMC,QAAQgC,GACd,IAAK,GAAIP,GAAI,EAAGzH,EAAMgI,EAAMjS,OAAYiK,EAAJyH,EAASA,IAAK,CAC9C,GAAIY,GAAOL,EAAMP,GACb9Q,EAAO0R,EAAK7Q,OACZZ,EAAOyR,EAAK5Q,MAEZ4Q,aAAgB/H,GAAE5F,SAClB3G,KAAKyM,QAAQxG,yBAA2B,mBAGlC,IAANyN,GACA1T,KAAKyM,QAAQ3I,YACb9D,KAAKyM,QAAQ5H,OAAOjC,EAAGC,KAEvB7C,KAAKyM,QAAQ3H,OAAOlC,EAAGC,GACvB7C,KAAKyM,QAAQzI,UAGbsQ,YAAgB/H,GAAE5F,SAClB3G,KAAKyM,QAAQxG,yBAA2B,mBAGzCgO,aAAiB1H,GAAEsF,OAC1BoC,EAAM1I,OAAOvL,MAEbiU,EAAMlI,KAAK/L,KAAKyM,SAIxB,MAAOzM,OAQX+B,EAAO+E,UAAUY,SAAW,SAASrG,GACjC,KAAMA,YAAqBkL,GAAEjL,WACzB,MAAO,EAGX,IAAIoT,GAAU1U,KAAKL,UAAUgV,cAAc,gBAE3C,MAAMD,YAAmBE,mBACrB,MAAO,EAGX,IAAIjE,GAAYtP,EAAU4P,UACtB3F,EAAYjK,EAAU6P,WACtBI,EAAY5Q,SAASiQ,EAAKnB,WAE1BkB,EAAOgE,EAAQG,MACfjS,EAAOlC,SAASgU,EAAQtU,MAAMG,MAC9BsC,EAAOnC,SAASgU,EAAQtU,MAAME,KAAOgR,CAEzCtR,MAAKL,UAAU2I,YAAYoM,EAE3B,IAAIvD,GAAYnR,KAAKyM,QAAQ9D,SAW7B,OATA3I,MAAKyM,QAAQkE,KAAYA,EAAKS,gBAC9BpR,KAAKyM,QAAQ9D,UAAY2C,EACzBtL,KAAKyM,QAAQ4E,SAASX,EAAM9N,EAAGC,GAE/B7C,KAAKyM,QAAQ9D,UAAYwI,EAEzBnR,KAAKiU,MAAMnS,KAAK,GAAIyK,GAAEkE,KAAKC,EAAM,GAAInE,GAAE3I,MAAMhB,EAAGC,GAAIxB,IACpDrB,KAAK6G,yBAEE6J,GAQX3O,EAAO+E,UAAUqE,UAAY,SAASC,GAClC,GAAI5I,GAAQxC,KAERoM,EAAQ,GAAIG,GAAEoF,cAAcpK,OAAO6D,GAAM,WACzC5I,EAAKiK,QAAQtB,UAAUnL,KAAM,EAAG,GAChCwC,EAAKyR,MAAMnS,KAAKsK,GAChB5J,EAAK0R,kBAGT,OAAOlU,OASX+B,EAAO+E,UAAUpF,UAAY,SAAS2E,EAAMpB,GACnC+M,MAAMC,QAAQhN,KACfA,GAAWA,GAGf,IAAI6P,GAAc9U,KAAK0M,gBAEvB,IAAoB,OAAhBoI,EAAJ,CAIA,GAAI1Q,GAAc0Q,EAAYrR,OAC1BY,EAAcyQ,EAAYpR,OAE1ByQ,EAAcnU,KAAKmU,WACnBY,EAAcZ,EAAWrJ,UACzBkK,EAAcb,EAAWlJ,KACXkJ,GAAWC,IAE7B,QAAQ7M,OAAOlB,GAAMmB,eACjB,IAAK+E,GAAE5K,UAAUC,UACb,GAAIqD,EAAQjD,OAAS,EACjB,KAGJ,IAAIiT,GAAKrH,WAAW3I,EAAQ,IACxBiQ,EAAKtH,WAAW3I,EAAQ,GAE5B,IAAI4I,MAAMoH,IAAOpH,MAAMqH,GACnB,KAGJH,GAAWnS,EAAIqS,EACfF,EAAWlS,EAAIqS,CAEf,MACJ,KAAK3I,GAAE5K,UAAUuD,MACb,GAAID,EAAQjD,OAAS,EACjB,KAGJ,IAAImT,GAAKvH,WAAW3I,EAAQ,IACxBmQ,EAAKxH,WAAW3I,EAAQ,GAE5B,IAAI4I,MAAMsH,IAAOtH,MAAMuH,GACnB,KAGJJ,GAAOpS,EAAIuS,EACXH,EAAOnS,EAAIuS,CAEX,MACJ,KAAK7I,GAAE5K,UAAU4D,OACb,GAAIN,EAAQjD,OAAS,EACjB,KAGJ,IAAI0D,GAASkI,WAAW3I,EAAQ,GAEhC,IAAI4I,MAAMnI,GACN,KAGJyO,GAAWjJ,OAAUxF,EAASjB,KAAKC,GAAM,IAOjD,GAAIwG,GAAeiJ,EAAWjJ,OAC1BmK,GACC5Q,KAAK6Q,IAAIpK,GAASzG,KAAK8Q,IAAIrK,IAC3BzG,KAAK8Q,IAAIrK,GAASzG,KAAK6Q,IAAIpK,GACZ,EAAkB,EAMtC,QAHAlL,KAAKyI,QACLzI,KAAKyM,QAAQ+I,OAELjO,OAAOlB,GAAMmB,eACjB,IAAK+E,GAAE5K,UAAUC,UACjB,IAAK2K,GAAE5K,UAAUuD,MACblF,KAAKyM,QAAQ7B,aAAa,EAAG,EAAG,EAAG,EAAG,EAAG,GACzC5K,KAAKyM,QAAQ/K,UAAU,EAAG,EAAG,EAAG,EAAG0C,EAASC,GAC5CrE,KAAKyM,QAAQ/K,UAAU+T,MAAMzV,KAAKyM,QAAS4I,GAC3CrV,KAAKyM,QAAQ/K,UAAU,EAAG,EAAG,EAAG,GAAI0C,GAAUC,GAE9CrE,KAAKyM,QAAQ/K,UAAUsT,EAAOpS,EAAG,EAAG,EAAGoS,EAAOnS,EAAGkS,EAAWnS,EAAGmS,EAAWlS,EAE1E,MACJ,KAAK0J,GAAE5K,UAAU4D,OACbvF,KAAKyM,QAAQ7B,aAAa,EAAG,EAAG,EAAG,EAAG,EAAG,GACzC5K,KAAKyM,QAAQ/K,UAAUsT,EAAOpS,EAAG,EAAG,EAAGoS,EAAOnS,EAAGkS,EAAWnS,EAAGmS,EAAWlS,GAE1E7C,KAAKyM,QAAQ/K,UAAU,EAAG,EAAG,EAAG,EAAG0C,EAASC,GAC5CrE,KAAKyM,QAAQ/K,UAAU+T,MAAMzV,KAAKyM,QAAS4I,GAC3CrV,KAAKyM,QAAQ/K,UAAU,EAAG,EAAG,EAAG,GAAI0C,GAAUC,GAYtD,MALIqR,WAAU1T,OAAS,IACnBhC,KAAK+L,MAAK,GACV/L,KAAKyM,QAAQkJ,WAGV3V,OAOX+B,EAAO+E,UAAU2B,MAAQ,WAErB,MADAzI,MAAKyM,QAAQmJ,UAAU,EAAG,EAAG5V,KAAKJ,OAAOC,MAAOG,KAAKJ,OAAOE,QACrDE,MAOX+B,EAAO+E,UAAU+O,WAAa,WAE1B,MADA7V,MAAKiU,MAAMjS,OAAS,EACbhC,MAOX+B,EAAO+E,UAAUyB,KAAO,WACpB,MAAIvI,MAAKkU,eAAiB,GACtBlU,KAAKkU,iBACLlU,KAAKyI,QACLzI,KAAK+L,MAAK,IAEH,IAGJ,GAOXhK,EAAO+E,UAAU0B,KAAO,WACpB,MAAIxI,MAAKkU,eAAiBlU,KAAKiU,MAAMjS,QACjChC,KAAKkU,iBACLlU,KAAKyI,QACLzI,KAAK+L,MAAK,IAEH,IAGJ,GAOXhK,EAAO+E,UAAU4B,aAAe,WAC5B,MAAO1I,MAAKyM,QAAQ9D,WAQxB5G,EAAO+E,UAAU8B,aAAe,SAASD,GAIrC,MAHA3I,MAAKyM,QAAQ9D,UAAYpB,OAAOoB,GAChC3I,KAAK+L,MAAK,GAEH/L,MAOX+B,EAAO+E,UAAU+B,eAAiB,WAC9B,MAAO7I,MAAKyM,QAAQ3D,aAQxB/G,EAAO+E,UAAUiC,eAAiB,SAASD,GAIvC,MAHA9I,MAAKyM,QAAQ3D,YAAcvB,OAAOuB,GAClC9I,KAAK+L,MAAK,GAEH/L,MAOX+B,EAAO+E,UAAUkC,aAAe,WAC5B,MAAOhJ,MAAKyM,QAAQxD,WAQxBlH,EAAO+E,UAAUoC,aAAe,SAASD,GACrC,GAAIxI,GAAImN,WAAW3E,EAOnB,OALIxI,GAAI,IACJT,KAAKyM,QAAQxD,UAAYxI,EACzBT,KAAK+L,MAAK,IAGP/L,MAOX+B,EAAO+E,UAAUqC,WAAa,WAC1B,MAAOnJ,MAAKyM,QAAQrD,SAQxBrH,EAAO+E,UAAUuC,WAAa,SAASD,GACnC,MAAK,qBAAqBrG,KAAKwE,OAAO6B,KAItCpJ,KAAKyM,QAAQrD,QAAUA,EAAQ5B,cAC/BxH,KAAK+L,MAAK,GAEH/L,MANIA,MAaf+B,EAAO+E,UAAUwC,YAAc,WAC3B,MAAOtJ,MAAKyM,QAAQlD,UAQxBxH,EAAO+E,UAAU0C,YAAc,SAASD,GACpC,MAAK,qBAAqBxG,KAAKwE,OAAOgC,KAItCvJ,KAAKyM,QAAQlD,SAAWA,EAAS/B,cACjCxH,KAAK+L,MAAK,GAEH/L,MANIA,MAaf+B,EAAO+E,UAAU2C,eAAiB,WAC9B,MAAOzJ,MAAKyM,QAAQ/C,aAQxB3H,EAAO+E,UAAU6C,eAAiB,SAASD,GAIvC,MAHA1J,MAAKyM,QAAQ/C,YAAcnC,OAAOmC,GAClC1J,KAAK+L,MAAK,GAEH/L,MAOX+B,EAAO+E,UAAU8C,cAAgB,WAC7B,MAAO5J,MAAKyM,QAAQ5C,YAQxB9H,EAAO+E,UAAUgD,cAAgB,SAASD,GACtC,GAAI6D,GAAIE,WAAW/D,EAOnB,OALI6D,IAAK,IACL1N,KAAKyM,QAAQ5C,WAAa6D,EAC1B1N,KAAK+L,MAAK,IAGP/L,MAOX+B,EAAO+E,UAAUiD,iBAAmB,WAChC,MAAO/J,MAAKyM,QAAQqJ,eAQxB/T,EAAO+E,UAAUkD,iBAAmB,SAAS3E,GACzC,GAAIzC,GAAIgL,WAAWvI,EAOnB,OALKwI,OAAMjL,KACP5C,KAAKyM,QAAQqJ,cAAgBlT,EAC7B5C,KAAK+L,MAAK,IAGP/L,MAOX+B,EAAO+E,UAAUmD,iBAAmB,WAChC,MAAOjK,MAAKyM,QAAQsJ,eAQxBhU,EAAO+E,UAAUoD,iBAAmB,SAAS5E,GACzC,GAAIzC,GAAI+K,WAAWtI,EAOnB,OALKuI,OAAMhL,KACP7C,KAAKyM,QAAQsJ,cAAgBlT,EAC7B7C,KAAK+L,MAAK,IAGP/L,MAOX+B,EAAO+E,UAAUqD,eAAiB,WAC9B,MAAOnK,MAAKyM,QAAQuH,aAQxBjS,EAAO+E,UAAUuD,eAAiB,SAASD,GACvC,GAAIuD,GAAIC,WAAWxD,EAOnB,OALKuD,IAAK,GAAY,GAALA,IACb3N,KAAKyM,QAAQuH,YAAcrG,EAC3B3N,KAAK+L,MAAK,IAGP/L,MAQX+B,EAAO+E,UAAUZ,WAAa,SAASpD,GACnC,KAAMA,YAAiBkT,QACnB,MAAO,EAGPlT,GAAMmT,QAECnT,EAAMoT,QAAQ,GACrBpT,EAAQA,EAAMoT,QAAQ,GACfpT,EAAMqT,eAAe,KAC5BrT,EAAQA,EAAMqT,eAAe,IAGjC,IAAIC,GAAapW,KAAKL,UAAUyW,WAC5B/Q,EAAavC,EAAMmT,MAAQjW,KAAKL,UAAU0W,WAAaD,EAEvD3V,EAAIT,KAAKJ,OAAOC,KAKpB,OAHc,GAAVwF,IAAcA,EAAU,GACxBA,EAAU5E,IAAI4E,EAAU5E,GAErB4E,GAQXtD,EAAO+E,UAAUX,WAAa,SAASrD,GACnC,KAAMA,YAAiBkT,QACnB,MAAO,EAGPlT,GAAMwT,QAECxT,EAAMoT,QAAQ,GACrBpT,EAAQA,EAAMoT,QAAQ,GACfpT,EAAMqT,eAAe,KAC5BrT,EAAQA,EAAMqT,eAAe,IAGjC,IAAII,GAAYvW,KAAKL,UAAU4W,UAC3BjR,EAAYxC,EAAMwT,MAAQtW,KAAKL,UAAU6W,UAAYD,EAErD5V,EAAIX,KAAKJ,OAAOE,MAKpB,OAHc,GAAVwF,IAAcA,EAAU,GACxBA,EAAU3E,IAAI2E,EAAU3E,GAErB2E,GAOXvD,EAAO+E,UAAU4F,eAAiB,WAG9B,IAAK,GAFDrJ,GAAQ,KAEH2I,EAAI,EAAGA,EAAIhM,KAAKkU,eAAgBlI,IAAK,CAC1C,GAAIiI,GAAQjU,KAAKiU,MAAMjI,EAEvB,IAAIgG,MAAMC,QAAQgC,GAAQ,CAMtB,IAAK,GALD9D,GAAOsG,OAAOC,UACdrG,EAAOoG,OAAOC,UACdpG,EAAO,EACPE,EAAO,EAEFkD,EAAI,EAAGD,EAAMQ,EAAMjS,OAAYyR,EAAJC,EAASA,IAAK,CAC9C,GAAIY,GAAOL,EAAMP,GACb9Q,EAAO0R,EAAK7Q,OACZZ,EAAOyR,EAAK5Q,MAERyM,GAAJvN,IAAWuN,EAAOvN,GACdyN,EAAJxN,IAAWwN,EAAOxN,GAClBD,EAAI0N,IAAOA,EAAO1N,GAClBC,EAAI2N,IAAOA,EAAO3N,GAG1B,GAAIuB,GAAUK,KAAKqO,OAAQxC,EAAOH,GAAQ,EAAKA,GAC3C9L,EAAUI,KAAKqO,OAAQtC,EAAOH,GAAQ,EAAKA,EAE/ChN,GAAQ,GAAIkJ,GAAE3I,MAAMQ,EAASC,OACtB4P,aAAiB1H,GAAEC,WAC1BnJ,EAAQ4Q,EAAMvH,eAAe1M,KAAKyM,UAI1C,MAAOpJ,IAQXtB,EAAO+E,UAAUP,cAAgB,SAASlD,GACtC,KAAMA,YAAiBkJ,GAAE3I,OACrB,MAAO5D,KAIX,IAAIA,KAAKL,UAAUgV,cAAc,0BAA4BC,kBACzD,MAAO5U,KAGX,IAAI4C,GAAIS,EAAMI,OACVZ,EAAIQ,EAAMK,OAEVgR,EAAUzU,SAAS0L,cAAc,QAgBrC,OAdA+I,GAAQX,aAAa,OAAQ,QAE7BW,EAAQtU,MAAMC,SAAa,WAC3BqU,EAAQtU,MAAME,IAAauC,EAAI,KAC/B6R,EAAQtU,MAAMG,KAAaqC,EAAI,KAC/B8R,EAAQtU,MAAMI,OAAaE,SAASV,KAAKJ,OAAOQ,MAAMI,QAAU,EAChEkU,EAAQtU,MAAMuW,QAAa,OAI3BjC,EAAQtU,MAAMwW,QAAa,QAE3B5W,KAAKL,UAAUmU,YAAYY,GAEpBA,GAQX3S,EAAO+E,UAAUuE,UAAY,SAASvI,GAClC,KAAMA,YAAiBkT,QACnB,MAAO,IAAIzJ,GAAE/K,MAAM,EAAG,EAAG,EAAG,EAGhC,IAAIqV,GAAQ7W,KAAKyM,QAAQvJ,aAAalD,KAAKkG,WAAWpD,GAAQ9C,KAAKmG,WAAWrD,GAAQ,EAAG,GACrFwI,EAAQ,GAAIiB,GAAE/K,MAAMqV,EAAMhE,KAAK,GAAIgE,EAAMhE,KAAK,GAAIgE,EAAMhE,KAAK,GAAKgE,EAAMhE,KAAK,GAAK,IAEtF,OAAOvH,IASXvJ,EAAO+E,UAAU7C,KAAO,SAASnB,EAAOwI,GACpC,GAAMxI,YAAiBkT,QAIjB1K,YAAiBiB,GAAE/K,MAAzB,CAIA,GAAI3B,GAASG,KAAKJ,OAAOC,MACrBC,EAASE,KAAKJ,OAAOE,OAErBwC,EAAYtC,KAAKyM,QAAQvJ,aAAa,EAAG,EAAGrD,EAAOC,GAEnDgX,EAAS9W,KAAKkG,WAAWpD,GACzBiU,EAAS/W,KAAKmG,WAAWrD,GAEzBkU,EAAmB,SAASpU,EAAGC,GAC/B,MAA2B,IAAlBhD,EAAQgD,EAAKD,IAGtBqU,EAAmB,SAAS3U,EAAWjC,EAAUiL,GACjDhJ,EAAUuQ,KAAKxS,GAAgBiL,EAAMwC,SACrCxL,EAAUuQ,KAAKxS,EAAW,GAAKiL,EAAMyC,WACrCzL,EAAUuQ,KAAKxS,EAAW,GAAKiL,EAAM0C,UACrC1L,EAAUuQ,KAAKxS,EAAW,GAAwB,IAAnBiL,EAAM2C,YAGrCiJ,EAAe,SAAStU,EAAGC,EAAGyI,GAC9B,GAAIjL,GAAW2W,EAAiBpU,EAAGC,EAEnC,OAAIP,GAAUuQ,KAAKxS,KAAciL,EAAMwC,UAC5B,EACAxL,EAAUuQ,KAAKxS,EAAW,KAAOiL,EAAMyC,YACvC,EACAzL,EAAUuQ,KAAKxS,EAAW,KAAOiL,EAAM0C,WACvC,EACA1L,EAAUuQ,KAAKxS,EAAW,KAAOiL,EAAM2C,YACvC,GAEA,GAIXkJ,EAAe,SAAS5W,EAAM6O,EAAOvM,GACrC,IAAK,GAAID,GAAIrC,EAAW6O,GAALxM,EAAYA,IAAK,CAChC,GAAIvC,GAAW2W,EAAiBpU,EAAGC,EACnCoU,GAAiB3U,EAAWjC,EAAUiL,KAI1C8L,EAAc,SAAS7W,EAAM6O,EAAOvM,EAAGwU,EAAQC,GAC/C,KAAelI,GAAR7O,GAAe,CAClB,KAAe6O,GAAR7O,IACC2W,EAAa3W,EAAMsC,EAAGyU,IAGtB/W,GAIR,IAAIA,EAAO6O,EACP,KAGJ,MAAeA,GAAR7O,GACC2W,EAAa3W,EAAMsC,EAAGyU,IACtB/W,GAMR8W,GAAOvV,MAAMc,EAAKrC,EAAO,EAAIsC,EAAIA,MAIrC0U,EAAqBP,EAAiBF,EAAQC,GAE9CO,EAAY,GAAI/K,GAAE/K,MAClBc,EAAUuQ,KAAK0E,GACfjV,EAAUuQ,KAAK0E,EAAqB,GACpCjV,EAAUuQ,KAAK0E,EAAqB,GACpCjV,EAAUuQ,KAAK0E,EAAqB,GAGxC,IAAIL,EAAaJ,EAAQC,EAAQzL,GAE7B,WADAtL,MAAKyM,QAAQjJ,aAAalB,EAAW,EAAG,EAI5C,IAAI+U,KAGJ,KAFAA,EAAOvV,MAAMc,EAAIkU,EAAQjU,EAAIkU,IAEtBM,EAAOrV,OAAS,GAAG,CACtB,GAAIwV,GAAYH,EAAO/T,MAEnB/C,EAAQiX,EAAU5U,EAClBwM,EAAQoI,EAAU5U,CAEtB,KAAIsU,EAAaM,EAAU5U,EAAG4U,EAAU3U,EAAGyI,GAA3C,CAKA,KAAW/K,EAAJ,GACC2W,EAAc3W,EAAO,EAAIiX,EAAU3U,EAAGyU,IACtC/W,GAOR,MAAO6O,EAASpP,KAAKJ,OAAOC,MAAQ,GAC5BqX,EAAc9H,EAAQ,EAAIoI,EAAU3U,EAAGyU,IACvClI,GAMR+H,GAAa5W,EAAM6O,EAAOoI,EAAU3U,GAE/B2U,EAAU3U,EAAI,EAAK/C,GAASsX,EAAY7W,EAAM6O,EAAQoI,EAAU3U,EAAI,EAAIwU,EAAQC,GAChFE,EAAU3U,EAAI,GAAM,GAAQuU,EAAY7W,EAAM6O,EAAQoI,EAAU3U,EAAI,EAAIwU,EAAQC,IAKzF,MAFAtX,MAAKyM,QAAQjJ,aAAalB,EAAW,EAAG,GAEjCtC,OASX+B,EAAO+E,UAAUyE,OAAS,SAASlF,EAAMpB,GACrC,GAAIsG,GAAS,GAAIgB,GAAEsF,OAAOxL,EAAMpB,EAOhC,OALAsG,GAAOA,OAAOvL,MAEdA,KAAKiU,MAAMnS,KAAKyJ,GAChBvL,KAAK6G,yBAEE7G,MAIXuM,EAAExK,OAASA,GAEZrC,GAGHD,EAAOC,UAAYA,GAEpB+X"}